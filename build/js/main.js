let obtImage=document.querySelector(".obtengo-container_left__image");function Ant(t){t=document.getElementById(t);this.crslRoot=t||document.querySelector(".ant-carousel"),this.crslList=this.crslRoot.querySelector(".ant-carousel-list"),this.crslElements=this.crslList.querySelectorAll(".ant-carousel-element"),this.crslElemFirst=this.crslList.querySelector(".ant-carousel-element"),this.leftArrow=this.crslRoot.querySelector(".ant-carousel-arrow-left"),this.rightArrow=this.crslRoot.querySelector(".ant-carousel-arrow-right"),this.indicatorDots=this.crslRoot.querySelector(".ant-carousel-dots"),this.options=Ant.defaults,Ant.initialize(this)}window.innerWidth<=575?obtImage.src="./assets/images/obtengo_bg_left_mobile.png":obtImage.src="./assets/images/obtengo_bg_left.png",window.addEventListener("resize",function(t){window.innerWidth<=575?obtImage.src="./assets/images/obtengo_bg_left_mobile.png":obtImage.src="./assets/images/obtengo_bg_left.png"}),Ant.defaults={elemVisible:2,loop:!0,auto:!0,interval:3e3,speed:750,touch:!0,arrows:!0,dots:!0},Ant.prototype.elemPrev=function(i){if(i=i||1,this.options.dots&&this.dotOn(this.currentElement),this.currentElement-=i,this.currentElement<0&&(this.currentElement=this.dotsVisible-1),this.options.dots&&this.dotOff(this.currentElement),this.options.loop){let e,s,t=this;for(let t=0;t<i;t++)e=this.crslList.lastElementChild,s=e.cloneNode(!0),this.crslList.insertBefore(s,this.crslList.firstElementChild),this.crslList.removeChild(e);this.crslList.style.marginLeft="-"+this.elemWidth*i+"px";window.getComputedStyle(this.crslList).marginLeft;this.crslList.style.cssText="transition:margin "+this.options.speed+"ms ease;",this.crslList.style.marginLeft="0px",setTimeout(function(){t.crslList.style.cssText="transition:none;"},this.options.speed)}else this.currentOffset+=this.elemWidth*i,this.crslList.style.marginLeft=this.currentOffset+"px",0==this.currentElement&&(this.leftArrow.style.display="none",this.touchPrev=!1),this.rightArrow.style.display="block",this.touchNext=!0},Ant.prototype.elemNext=function(o){if(o=o||1,this.options.dots&&this.dotOn(this.currentElement),this.currentElement+=o,this.currentElement>=this.dotsVisible&&(this.currentElement=0),this.options.dots&&this.dotOff(this.currentElement),this.options.loop){let e,s,i=this;this.crslList.style.cssText="transition:margin "+this.options.speed+"ms ease;",this.crslList.style.marginLeft="-"+this.elemWidth*o+"px",setTimeout(function(){i.crslList.style.cssText="transition:none;";for(let t=0;t<o;t++)e=i.crslList.firstElementChild,s=e.cloneNode(!0),i.crslList.appendChild(s),i.crslList.removeChild(e);i.crslList.style.marginLeft="0px"},this.options.speed)}else this.currentOffset-=this.elemWidth*o,this.crslList.style.marginLeft=this.currentOffset+"px",this.currentElement==this.dotsVisible-1&&(this.rightArrow.style.display="none",this.touchNext=!1),this.leftArrow.style.display="block",this.touchPrev=!0},Ant.prototype.dotOn=function(t){this.indicatorDotsAll[t].style.cssText="background-color:#BBB; cursor:pointer;"},Ant.prototype.dotOff=function(t){this.indicatorDotsAll[t].style.cssText="background-color:#FF7100; cursor:default;"},Ant.initialize=function(i){i.elemCount=i.crslElements.length,i.dotsVisible=i.elemCount;var t=window.getComputedStyle(i.crslElemFirst);i.elemWidth=i.crslElemFirst.offsetWidth+parseInt(t.marginLeft)+parseInt(t.marginRight),i.currentElement=0,i.currentOffset=0,i.touchPrev=!0,i.touchNext=!0;let e,s,o,n,r,l,c=a();function a(){return(new Date).getTime()}function h(){i.autoScroll=setInterval(function(){var t=a();t-c+10>i.options.interval&&(c=t,i.elemNext())},i.options.interval)}if(i.elemCount<=i.options.elemVisible&&(i.options.auto=!1,i.options.touch=!1,i.options.arrows=!1,i.options.dots=!1,i.leftArrow.style.display="none",i.rightArrow.style.display="none"),i.options.loop?!i.options.loop&&window.innerWidth<=575?(i.dotsVisible=i.elemCount-1+1,i.leftArrow.style.display="none",i.touchPrev=!1,i.options.auto=!1):i.options.auto&&(h(),i.crslList.addEventListener("mouseenter",function(){clearInterval(i.autoScroll)},!1),i.crslList.addEventListener("mouseleave",h,!1)):(i.dotsVisible=i.elemCount-i.options.elemVisible+1,i.leftArrow.style.display="none",i.touchPrev=!1,i.options.auto=!1),i.options.touch&&(i.crslList.addEventListener("touchstart",function(t){e=parseInt(t.touches[0].clientX),s=parseInt(t.touches[0].clientY),r=a()},!1),i.crslList.addEventListener("touchmove",function(t){e&&s&&(o=e-parseInt(t.touches[0].clientX),n=s-parseInt(t.touches[0].clientY),l=a(),15<Math.abs(o)&&Math.abs(o)>Math.abs(n)&&l-r<75&&(r=0,i.touchNext&&0<o?(c=l,i.elemNext()):i.touchPrev&&o<0&&(c=l,i.elemPrev())))},!1)),i.options.arrows?(i.options.loop||(i.crslList.style.cssText="transition:margin "+i.options.speed+"ms ease;"),i.leftArrow.addEventListener("click",function(){var t=a();t-c>i.options.speed&&(c=t,i.elemPrev())},!1),i.rightArrow.addEventListener("click",function(){var t=a();t-c>i.options.speed&&(c=t,i.elemNext())},!1)):(i.leftArrow.style.display="none",i.rightArrow.style.display="none"),i.options.dots){let e="",s;for(let t=0;t<i.dotsVisible;t++)e+='<span class="ant-dot"></span>';i.indicatorDots.innerHTML=e,i.indicatorDotsAll=i.crslRoot.querySelectorAll("span.ant-dot");for(let t=0;t<i.dotsVisible;t++)i.indicatorDotsAll[t].addEventListener("click",function(){s=Math.abs(t-i.currentElement),t<i.currentElement?(c=a(),i.elemPrev(s)):t>i.currentElement&&(c=a(),i.elemNext(s))},!1);i.dotOff(0);for(let t=1;t<i.dotsVisible;t++)i.dotOn(t)}},new Ant,window.addEventListener("resize",function(t){});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsib2J0SW1hZ2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJBbnQiLCJjcnNsSWQiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwidGhpcyIsImNyc2xSb290IiwiY3JzbExpc3QiLCJjcnNsRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3JzbEVsZW1GaXJzdCIsImxlZnRBcnJvdyIsInJpZ2h0QXJyb3ciLCJpbmRpY2F0b3JEb3RzIiwib3B0aW9ucyIsImRlZmF1bHRzIiwiaW5pdGlhbGl6ZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJzcmMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJlbGVtVmlzaWJsZSIsImxvb3AiLCJhdXRvIiwiaW50ZXJ2YWwiLCJzcGVlZCIsInRvdWNoIiwiYXJyb3dzIiwiZG90cyIsInByb3RvdHlwZSIsImVsZW1QcmV2IiwibnVtIiwiZG90T24iLCJjdXJyZW50RWxlbWVudCIsImRvdHNWaXNpYmxlIiwiZG90T2ZmIiwiZWxtIiwiYnVmIiwidGhpcyQiLCJpIiwibGFzdEVsZW1lbnRDaGlsZCIsImNsb25lTm9kZSIsImluc2VydEJlZm9yZSIsImZpcnN0RWxlbWVudENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJzdHlsZSIsIm1hcmdpbkxlZnQiLCJlbGVtV2lkdGgiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3NzVGV4dCIsInNldFRpbWVvdXQiLCJjdXJyZW50T2Zmc2V0IiwiZGlzcGxheSIsInRvdWNoUHJldiIsInRvdWNoTmV4dCIsImVsZW1OZXh0IiwiYXBwZW5kQ2hpbGQiLCJpbmRpY2F0b3JEb3RzQWxsIiwidGhhdCIsImVsZW1Db3VudCIsImxlbmd0aCIsImVsZW1TdHlsZSIsIm9mZnNldFdpZHRoIiwicGFyc2VJbnQiLCJtYXJnaW5SaWdodCIsInhUb3VjaCIsInlUb3VjaCIsInhEaWZmIiwieURpZmYiLCJzdFRpbWUiLCJtdlRpbWUiLCJiZ1RpbWUiLCJnZXRUaW1lIiwiRGF0ZSIsInNldEF1dG9TY3JvbGwiLCJhdXRvU2Nyb2xsIiwic2V0SW50ZXJ2YWwiLCJmblRpbWUiLCJjbGVhckludGVydmFsIiwiZSIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIk1hdGgiLCJhYnMiLCJzdW0iLCJkaWZmTnVtIiwiaW5uZXJIVE1MIiwibiJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQUEsU0FBQUMsU0FBQUMsY0FBQSxrQ0FnQkEsU0FBQUMsSUFBQUMsR0FFQUMsRUFBQUosU0FBQUssZUFBQUYsR0FFQUcsS0FBQUMsU0FEQUgsR0FHQUosU0FBQUMsY0FBQSxpQkFJQUssS0FBQUUsU0FBQUYsS0FBQUMsU0FBQU4sY0FBQSxzQkFDQUssS0FBQUcsYUFBQUgsS0FBQUUsU0FBQUUsaUJBQUEseUJBQ0FKLEtBQUFLLGNBQUFMLEtBQUFFLFNBQUFQLGNBQUEseUJBQ0FLLEtBQUFNLFVBQUFOLEtBQUFDLFNBQUFOLGNBQUEsNEJBQ0FLLEtBQUFPLFdBQUFQLEtBQUFDLFNBQUFOLGNBQUEsNkJBQ0FLLEtBQUFRLGNBQUFSLEtBQUFDLFNBQUFOLGNBQUEsc0JBR0FLLEtBQUFTLFFBQUFiLElBQUFjLFNBQ0FkLElBQUFlLFdBQUFYLE1BbENBWSxPQUFBQyxZQUFBLElBQ0FwQixTQUFBcUIsSUFBQSw2Q0FFQXJCLFNBQUFxQixJQUFBLHNDQUdBRixPQUFBRyxpQkFBQSxTQUFBLFNBQUFDLEdBQ0FKLE9BQUFDLFlBQUEsSUFDQXBCLFNBQUFxQixJQUFBLDZDQUVBckIsU0FBQXFCLElBQUEsd0NBMkJBbEIsSUFBQWMsU0FBQSxDQUdBTyxZQUFBLEVBQ0FDLE1BQUEsRUFDQUMsTUFBQSxFQUNBQyxTQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxFQUNBQyxRQUFBLEVBQ0FDLE1BQUEsR0FHQTVCLElBQUE2QixVQUFBQyxTQUFBLFNBQUFDLEdBUUEsR0FQQUEsRUFBQUEsR0FBQSxFQUVBM0IsS0FBQVMsUUFBQWUsTUFBQXhCLEtBQUE0QixNQUFBNUIsS0FBQTZCLGdCQUNBN0IsS0FBQTZCLGdC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YixFQUFBN0MsUUFBQVksUUFDQThDLEVBQUFNLEVBQ0FuQixFQUFBSCxjQUVBLEtBRUFHLEVBQUFoRCxVQUFBbUMsTUFBQU8sUUFBQSxPQUNBTSxFQUFBL0MsV0FBQWtDLE1BQUFPLFFBQUEsUUFHQU0sRUFBQTdDLFFBQUFlLEtBQUEsQ0FDQSxJQUFBeUQsRUFBQSxHQUNBQyxFQUNBLElBQUEsSUFBQS9DLEVBQUEsRUFBQUEsRUFBQW1CLEVBQUF4QixZQUFBSyxJQUNBOEMsR0FBQSxnQ0FFQTNCLEVBQUE5QyxjQUFBMkUsVUFBQUYsRUFDQTNCLEVBQUFELGlCQUFBQyxFQUFBckQsU0FBQUcsaUJBQUEsZ0JBRUEsSUFBQSxJQUFBZ0YsRUFBQSxFQUFBQSxFQUFBOUIsRUFBQXhCLFlBQUFzRCxJQUNBOUIsRUFBQUQsaUJBQUErQixHQUFBckUsaUJBQUEsUUFBQSxXQUNBbUUsRUFBQUgsS0FBQUMsSUFBQUksRUFBQTlCLEVBQUF6QixnQkFDQXVELEVBQUE5QixFQUFBekIsZ0JBQ0FzQyxFQUFBQyxJQUNBZCxFQUFBNUIsU0FBQXdELElBQ0FFLEVBQUE5QixFQUFBekIsaUJBQ0FzQyxFQUFBQyxJQUNBZCxFQUFBSCxTQUFBK0IsTUFHQSxHQUVBNUIsRUFBQXZCLE9BQUEsR0FDQSxJQUFBLElBQUFJLEVBQUEsRUFBQUEsRUFBQW1CLEVBQUF4QixZQUFBSyxJQUNBbUIsRUFBQTFCLE1BQUFPLEtBS0EsSUFBQXZDLElBQ0FnQixPQUFBRyxpQkFBQSxTQUFBLFNBQUFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgb2J0SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2J0ZW5nby1jb250YWluZXJfbGVmdF9faW1hZ2UnKTtcclxuaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDU3NSkge1xyXG4gICAgb2J0SW1hZ2Uuc3JjID0gXCIuL2Fzc2V0cy9pbWFnZXMvb2J0ZW5nb19iZ19sZWZ0X21vYmlsZS5wbmdcIjtcclxufSBlbHNlIHtcclxuICAgIG9idEltYWdlLnNyYyA9IFwiLi9hc3NldHMvaW1hZ2VzL29idGVuZ29fYmdfbGVmdC5wbmdcIlxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA1NzUpIHtcclxuICAgICAgICBvYnRJbWFnZS5zcmMgPSBcIi4vYXNzZXRzL2ltYWdlcy9vYnRlbmdvX2JnX2xlZnRfbW9iaWxlLnBuZ1wiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBvYnRJbWFnZS5zcmMgPSBcIi4vYXNzZXRzL2ltYWdlcy9vYnRlbmdvX2JnX2xlZnQucG5nXCJcclxuICAgIH1cclxufSlcclxuXHJcblxyXG5mdW5jdGlvbiBBbnQoY3JzbElkKSB7XHJcblxyXG4gICAgbGV0IGlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3JzbElkKTtcclxuICAgIGlmIChpZCkge1xyXG4gICAgICAgIHRoaXMuY3JzbFJvb3QgPSBpZFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNyc2xSb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFudC1jYXJvdXNlbCcpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENhcm91c2VsIG9iamVjdHNcclxuICAgIHRoaXMuY3JzbExpc3QgPSB0aGlzLmNyc2xSb290LnF1ZXJ5U2VsZWN0b3IoJy5hbnQtY2Fyb3VzZWwtbGlzdCcpO1xyXG4gICAgdGhpcy5jcnNsRWxlbWVudHMgPSB0aGlzLmNyc2xMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnQtY2Fyb3VzZWwtZWxlbWVudCcpO1xyXG4gICAgdGhpcy5jcnNsRWxlbUZpcnN0ID0gdGhpcy5jcnNsTGlzdC5xdWVyeVNlbGVjdG9yKCcuYW50LWNhcm91c2VsLWVsZW1lbnQnKTtcclxuICAgIHRoaXMubGVmdEFycm93ID0gdGhpcy5jcnNsUm9vdC5xdWVyeVNlbGVjdG9yKCcuYW50LWNhcm91c2VsLWFycm93LWxlZnQnKTtcclxuICAgIHRoaXMucmlnaHRBcnJvdyA9IHRoaXMuY3JzbFJvb3QucXVlcnlTZWxlY3RvcignLmFudC1jYXJvdXNlbC1hcnJvdy1yaWdodCcpO1xyXG4gICAgdGhpcy5pbmRpY2F0b3JEb3RzID0gdGhpcy5jcnNsUm9vdC5xdWVyeVNlbGVjdG9yKCcuYW50LWNhcm91c2VsLWRvdHMnKTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXphdGlvblxyXG4gICAgdGhpcy5vcHRpb25zID0gQW50LmRlZmF1bHRzO1xyXG4gICAgQW50LmluaXRpYWxpemUodGhpcylcclxufTtcclxuXHJcbkFudC5kZWZhdWx0cyA9IHtcclxuXHJcbiAgICAvLyBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBjYXJvdXNlbFxyXG4gICAgZWxlbVZpc2libGU6IDIsIC8vINCa0L7Quy3QstC+INC+0YLQvtCx0YDQsNC20LDQtdC80YvRhSDRjdC70LXQvNC10L3RgtC+0LIg0LIg0LrQsNGA0YPRgdC10LvQuFxyXG4gICAgbG9vcDogdHJ1ZSwgLy8g0JHQtdGB0LrQvtC90LXRh9C90L7QtSDQt9Cw0YbQuNC60LvQuNCy0LDQvdC40LUg0LrQsNGA0YPRgdC10LvQuCBcclxuICAgIGF1dG86IHRydWUsIC8vINCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutCw0Y8g0L/RgNC+0LrRgNGD0YLQutCwXHJcbiAgICBpbnRlcnZhbDogMzAwMCwgLy8g0JjQvdGC0LXRgNCy0LDQuyDQvNC10LbQtNGDINC/0YDQvtC60YDRg9GC0LrQvtC5INGN0LvQtdC80LXQvdGC0L7QsiAo0LzRgSlcclxuICAgIHNwZWVkOiA3NTAsIC8vINCh0LrQvtGA0L7RgdGC0Ywg0LDQvdC40LzQsNGG0LjQuCAo0LzRgSlcclxuICAgIHRvdWNoOiB0cnVlLCAvLyDQn9GA0L7QutGA0YPRgtC60LAgINC/0YDQuNC60L7RgdC90L7QstC10L3QuNC10LxcclxuICAgIGFycm93czogdHJ1ZSwgLy8g0J/RgNC+0LrRgNGD0YLQutCwINGB0YLRgNC10LvQutCw0LzQuFxyXG4gICAgZG90czogdHJ1ZSAvLyDQmNC90LTQuNC60LDRgtC+0YDQvdGL0LUg0YLQvtGH0LrQuFxyXG59O1xyXG5cclxuQW50LnByb3RvdHlwZS5lbGVtUHJldiA9IGZ1bmN0aW9uKG51bSkge1xyXG4gICAgbnVtID0gbnVtIHx8IDE7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kb3RzKSB0aGlzLmRvdE9uKHRoaXMuY3VycmVudEVsZW1lbnQpO1xyXG4gICAgdGhpcy5jdXJyZW50RWxlbWVudCAtPSBudW07XHJcbiAgICBpZiAodGhpcy5jdXJyZW50RWxlbWVudCA8IDApIHRoaXMuY3VycmVudEVsZW1lbnQgPSB0aGlzLmRvdHNWaXNpYmxlIC0gMTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZG90cykgdGhpcy5kb3RPZmYodGhpcy5jdXJyZW50RWxlbWVudCk7XHJcblxyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubG9vcCkgeyAvLyDRgdC00LLQuNCzINCy0L/RgNCw0LLQviDQsdC10Lcg0YbQuNC60LvQsFxyXG4gICAgICAgIHRoaXMuY3VycmVudE9mZnNldCArPSB0aGlzLmVsZW1XaWR0aCAqIG51bTtcclxuICAgICAgICB0aGlzLmNyc2xMaXN0LnN0eWxlLm1hcmdpbkxlZnQgPSB0aGlzLmN1cnJlbnRPZmZzZXQgKyAncHgnO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRFbGVtZW50ID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgdGhpcy50b3VjaFByZXYgPSBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJpZ2h0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgdGhpcy50b3VjaE5leHQgPSB0cnVlXHJcbiAgICB9IGVsc2UgeyAvLyDRgdC00LLQuNCzINCy0L/RgNCw0LLQviDRgSDRhtC40LrQu9C+0LxcclxuICAgICAgICBsZXQgZWxtLCBidWYsIHRoaXMkID0gdGhpcztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGVsbSA9IHRoaXMuY3JzbExpc3QubGFzdEVsZW1lbnRDaGlsZDtcclxuICAgICAgICAgICAgYnVmID0gZWxtLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5jcnNsTGlzdC5pbnNlcnRCZWZvcmUoYnVmLCB0aGlzLmNyc2xMaXN0LmZpcnN0RWxlbWVudENoaWxkKTtcclxuICAgICAgICAgICAgdGhpcy5jcnNsTGlzdC5yZW1vdmVDaGlsZChlbG0pXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNyc2xMaXN0LnN0eWxlLm1hcmdpbkxlZnQgPSAnLScgKyB0aGlzLmVsZW1XaWR0aCAqIG51bSArICdweCc7XHJcbiAgICAgICAgbGV0IGNvbXBTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuY3JzbExpc3QpLm1hcmdpbkxlZnQ7XHJcbiAgICAgICAgdGhpcy5jcnNsTGlzdC5zdHlsZS5jc3NUZXh0ID0gJ3RyYW5zaXRpb246bWFyZ2luICcgKyB0aGlzLm9wdGlvbnMuc3BlZWQgKyAnbXMgZWFzZTsnO1xyXG4gICAgICAgIHRoaXMuY3JzbExpc3Quc3R5bGUubWFyZ2luTGVmdCA9ICcwcHgnO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMkLmNyc2xMaXN0LnN0eWxlLmNzc1RleHQgPSAndHJhbnNpdGlvbjpub25lOydcclxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuc3BlZWQpXHJcbiAgICB9XHJcbn07XHJcblxyXG5BbnQucHJvdG90eXBlLmVsZW1OZXh0ID0gZnVuY3Rpb24obnVtKSB7XHJcbiAgICBudW0gPSBudW0gfHwgMTtcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmRvdHMpIHRoaXMuZG90T24odGhpcy5jdXJyZW50RWxlbWVudCk7XHJcbiAgICB0aGlzLmN1cnJlbnRFbGVtZW50ICs9IG51bTtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRFbGVtZW50ID49IHRoaXMuZG90c1Zpc2libGUpIHRoaXMuY3VycmVudEVsZW1lbnQgPSAwO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kb3RzKSB0aGlzLmRvdE9mZih0aGlzLmN1cnJlbnRFbGVtZW50KTtcclxuXHJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5sb29wKSB7IC8vINGB0LTQstC40LMg0LLQu9C10LLQviDQsdC10Lcg0YbQuNC60LvQsFxyXG4gICAgICAgIHRoaXMuY3VycmVudE9mZnNldCAtPSB0aGlzLmVsZW1XaWR0aCAqIG51bTtcclxuICAgICAgICB0aGlzLmNyc2xMaXN0LnN0eWxlLm1hcmdpbkxlZnQgPSB0aGlzLmN1cnJlbnRPZmZzZXQgKyAncHgnO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRFbGVtZW50ID09IHRoaXMuZG90c1Zpc2libGUgLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoTmV4dCA9IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGVmdEFycm93LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIHRoaXMudG91Y2hQcmV2ID0gdHJ1ZVxyXG4gICAgfSBlbHNlIHsgLy8g0YHQtNCy0LjQsyDQstC70LXQstC+INGBINGG0LjQutC70L7QvFxyXG4gICAgICAgIGxldCBlbG0sIGJ1ZiwgdGhpcyQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY3JzbExpc3Quc3R5bGUuY3NzVGV4dCA9ICd0cmFuc2l0aW9uOm1hcmdpbiAnICsgdGhpcy5vcHRpb25zLnNwZWVkICsgJ21zIGVhc2U7JztcclxuICAgICAgICB0aGlzLmNyc2xMaXN0LnN0eWxlLm1hcmdpbkxlZnQgPSAnLScgKyB0aGlzLmVsZW1XaWR0aCAqIG51bSArICdweCc7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcyQuY3JzbExpc3Quc3R5bGUuY3NzVGV4dCA9ICd0cmFuc2l0aW9uOm5vbmU7JztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZWxtID0gdGhpcyQuY3JzbExpc3QuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICAgICAgICAgICAgICBidWYgPSBlbG0uY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcyQuY3JzbExpc3QuYXBwZW5kQ2hpbGQoYnVmKTtcclxuICAgICAgICAgICAgICAgIHRoaXMkLmNyc2xMaXN0LnJlbW92ZUNoaWxkKGVsbSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcyQuY3JzbExpc3Quc3R5bGUubWFyZ2luTGVmdCA9ICcwcHgnXHJcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLnNwZWVkKVxyXG4gICAgfVxyXG59O1xyXG5cclxuQW50LnByb3RvdHlwZS5kb3RPbiA9IGZ1bmN0aW9uKG51bSkge1xyXG4gICAgdGhpcy5pbmRpY2F0b3JEb3RzQWxsW251bV0uc3R5bGUuY3NzVGV4dCA9ICdiYWNrZ3JvdW5kLWNvbG9yOiNCQkI7IGN1cnNvcjpwb2ludGVyOydcclxufTtcclxuXHJcbkFudC5wcm90b3R5cGUuZG90T2ZmID0gZnVuY3Rpb24obnVtKSB7XHJcbiAgICB0aGlzLmluZGljYXRvckRvdHNBbGxbbnVtXS5zdHlsZS5jc3NUZXh0ID0gJ2JhY2tncm91bmQtY29sb3I6I0ZGNzEwMDsgY3Vyc29yOmRlZmF1bHQ7J1xyXG59O1xyXG5cclxuQW50LmluaXRpYWxpemUgPSBmdW5jdGlvbih0aGF0KSB7XHJcblxyXG4gICAgLy8gQ29uc3RhbnRzXHJcbiAgICB0aGF0LmVsZW1Db3VudCA9IHRoYXQuY3JzbEVsZW1lbnRzLmxlbmd0aDsgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0Y3Qu9C10LzQtdC90YLQvtCyXHJcbiAgICB0aGF0LmRvdHNWaXNpYmxlID0gdGhhdC5lbGVtQ291bnQ7IC8vINCn0LjRgdC70L4g0LLQuNC00LjQvNGL0YUg0YLQvtGH0LXQulxyXG4gICAgbGV0IGVsZW1TdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoYXQuY3JzbEVsZW1GaXJzdCk7XHJcbiAgICB0aGF0LmVsZW1XaWR0aCA9IHRoYXQuY3JzbEVsZW1GaXJzdC5vZmZzZXRXaWR0aCArIC8vINCo0LjRgNC40L3QsCDRjdC70LXQvNC10L3RgtCwICjQsdC10LcgbWFyZ2luKVxyXG4gICAgICAgIHBhcnNlSW50KGVsZW1TdHlsZS5tYXJnaW5MZWZ0KSArIHBhcnNlSW50KGVsZW1TdHlsZS5tYXJnaW5SaWdodCk7XHJcblxyXG4gICAgLy8gVmFyaWFibGVzXHJcbiAgICB0aGF0LmN1cnJlbnRFbGVtZW50ID0gMDtcclxuICAgIHRoYXQuY3VycmVudE9mZnNldCA9IDA7XHJcbiAgICB0aGF0LnRvdWNoUHJldiA9IHRydWU7XHJcbiAgICB0aGF0LnRvdWNoTmV4dCA9IHRydWU7XHJcbiAgICBsZXQgeFRvdWNoLCB5VG91Y2gsIHhEaWZmLCB5RGlmZiwgc3RUaW1lLCBtdlRpbWU7XHJcbiAgICBsZXQgYmdUaW1lID0gZ2V0VGltZSgpO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uc1xyXG4gICAgZnVuY3Rpb24gZ2V0VGltZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEF1dG9TY3JvbGwoKSB7XHJcbiAgICAgICAgdGhhdC5hdXRvU2Nyb2xsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBmblRpbWUgPSBnZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIGlmIChmblRpbWUgLSBiZ1RpbWUgKyAxMCA+IHRoYXQub3B0aW9ucy5pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAgICAgYmdUaW1lID0gZm5UaW1lO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbGVtTmV4dCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGF0Lm9wdGlvbnMuaW50ZXJ2YWwpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFN0YXJ0IGluaXRpYWxpemF0aW9uXHJcbiAgICBpZiAodGhhdC5lbGVtQ291bnQgPD0gdGhhdC5vcHRpb25zLmVsZW1WaXNpYmxlKSB7IC8vINCe0YLQutC70Y7Rh9C40YLRjCDQvdCw0LLQuNCz0LDRhtC40Y5cclxuICAgICAgICB0aGF0Lm9wdGlvbnMuYXV0byA9IGZhbHNlO1xyXG4gICAgICAgIHRoYXQub3B0aW9ucy50b3VjaCA9IGZhbHNlO1xyXG4gICAgICAgIHRoYXQub3B0aW9ucy5hcnJvd3MgPSBmYWxzZTtcclxuICAgICAgICB0aGF0Lm9wdGlvbnMuZG90cyA9IGZhbHNlO1xyXG4gICAgICAgIHRoYXQubGVmdEFycm93LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgdGhhdC5yaWdodEFycm93LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgIH07XHJcblxyXG4gICAgaWYgKCF0aGF0Lm9wdGlvbnMubG9vcCkgeyAvLyDQtdGB0LvQuCDQvdC10YIg0YbQuNC60LvQsCAtINGD0YLQvtGH0L3QuNGC0Ywg0LrQvtC70LjRh9C10YHRgtCy0L4g0YLQvtGH0LXQulxyXG4gICAgICAgIHRoYXQuZG90c1Zpc2libGUgPSB0aGF0LmVsZW1Db3VudCAtIHRoYXQub3B0aW9ucy5lbGVtVmlzaWJsZSArIDE7XHJcbiAgICAgICAgdGhhdC5sZWZ0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8g0L7RgtC60LvRjtGH0LjRgtGMINC70LXQstGD0Y4g0YHRgtGA0LXQu9C60YNcclxuICAgICAgICB0aGF0LnRvdWNoUHJldiA9IGZhbHNlOyAvLyDQvtGC0LrQu9GO0YfQuNGC0Ywg0L/RgNC+0LrRgNGD0YLQutGDINC/0YDQuNC60L7RgdC90L7QstC10L3QuNC10Lwg0LLQv9GA0LDQstC+XHJcbiAgICAgICAgdGhhdC5vcHRpb25zLmF1dG8gPSBmYWxzZTsgLy8g0L7RgtC60LvRjtGH0LjRgtGMINCw0LLRgtC+0L/RgNC60YDRg9GC0LrRg1xyXG4gICAgfSBlbHNlIGlmICghdGhhdC5vcHRpb25zLmxvb3AgJiYgd2luZG93LmlubmVyV2lkdGggPD0gNTc1KSB7XHJcbiAgICAgICAgdGhhdC5kb3RzVmlzaWJsZSA9IHRoYXQuZWxlbUNvdW50IC0gMSArIDE7XHJcbiAgICAgICAgdGhhdC5sZWZ0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8g0L7RgtC60LvRjtGH0LjRgtGMINC70LXQstGD0Y4g0YHRgtGA0LXQu9C60YNcclxuICAgICAgICB0aGF0LnRvdWNoUHJldiA9IGZhbHNlOyAvLyDQvtGC0LrQu9GO0YfQuNGC0Ywg0L/RgNC+0LrRgNGD0YLQutGDINC/0YDQuNC60L7RgdC90L7QstC10L3QuNC10Lwg0LLQv9GA0LDQstC+XHJcbiAgICAgICAgdGhhdC5vcHRpb25zLmF1dG8gPSBmYWxzZTsgLy8g0L7RgtC60LvRjtGH0LjRgtGMINCw0LLRgtC+0L/RgNC60YDRg9GC0LrRg1xyXG5cclxuICAgIH0gZWxzZSBpZiAodGhhdC5vcHRpb25zLmF1dG8pIHsgLy8g0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LDQstGC0L7Qv9GA0L7QutGA0YPQutC4XHJcbiAgICAgICAgc2V0QXV0b1Njcm9sbCgpO1xyXG4gICAgICAgIC8vINCe0YHRgtCw0L3QvtCy0LrQsCDQv9GA0L7QutGA0YPRgtC60Lgg0L/RgNC4INC90LDQstC10LTQtdC90LjQuCDQvNGL0YjQuCDQvdCwINGN0LvQtdC80LXQvdGCXHJcbiAgICAgICAgdGhhdC5jcnNsTGlzdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhhdC5hdXRvU2Nyb2xsKVxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB0aGF0LmNyc2xMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBzZXRBdXRvU2Nyb2xsLCBmYWxzZSlcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHRoYXQub3B0aW9ucy50b3VjaCkgeyAvLyDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQv9GA0L7QutGA0YPRgtC60Lgg0L/RgNC40LrQvtGB0L3QvtCy0LXQvdC40LXQvFxyXG4gICAgICAgIHRoYXQuY3JzbExpc3QuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgeFRvdWNoID0gcGFyc2VJbnQoZS50b3VjaGVzWzBdLmNsaWVudFgpO1xyXG4gICAgICAgICAgICB5VG91Y2ggPSBwYXJzZUludChlLnRvdWNoZXNbMF0uY2xpZW50WSk7XHJcbiAgICAgICAgICAgIHN0VGltZSA9IGdldFRpbWUoKVxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB0aGF0LmNyc2xMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKCF4VG91Y2ggfHwgIXlUb3VjaCkgcmV0dXJuO1xyXG4gICAgICAgICAgICB4RGlmZiA9IHhUb3VjaCAtIHBhcnNlSW50KGUudG91Y2hlc1swXS5jbGllbnRYKTtcclxuICAgICAgICAgICAgeURpZmYgPSB5VG91Y2ggLSBwYXJzZUludChlLnRvdWNoZXNbMF0uY2xpZW50WSk7XHJcbiAgICAgICAgICAgIG12VGltZSA9IGdldFRpbWUoKTtcclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHhEaWZmKSA+IDE1ICYmIE1hdGguYWJzKHhEaWZmKSA+IE1hdGguYWJzKHlEaWZmKSAmJiBtdlRpbWUgLSBzdFRpbWUgPCA3NSkge1xyXG4gICAgICAgICAgICAgICAgc3RUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGF0LnRvdWNoTmV4dCAmJiB4RGlmZiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBiZ1RpbWUgPSBtdlRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbGVtTmV4dCgpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoYXQudG91Y2hQcmV2ICYmIHhEaWZmIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnVGltZSA9IG12VGltZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVsZW1QcmV2KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZhbHNlKVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhhdC5vcHRpb25zLmFycm93cykgeyAvLyDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdGC0YDQtdC70L7QulxyXG4gICAgICAgIGlmICghdGhhdC5vcHRpb25zLmxvb3ApIHRoYXQuY3JzbExpc3Quc3R5bGUuY3NzVGV4dCA9XHJcbiAgICAgICAgICAgICd0cmFuc2l0aW9uOm1hcmdpbiAnICsgdGhhdC5vcHRpb25zLnNwZWVkICsgJ21zIGVhc2U7JztcclxuICAgICAgICB0aGF0LmxlZnRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgZm5UaW1lID0gZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICBpZiAoZm5UaW1lIC0gYmdUaW1lID4gdGhhdC5vcHRpb25zLnNwZWVkKSB7XHJcbiAgICAgICAgICAgICAgICBiZ1RpbWUgPSBmblRpbWU7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVsZW1QcmV2KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB0aGF0LnJpZ2h0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IGZuVGltZSA9IGdldFRpbWUoKTtcclxuICAgICAgICAgICAgaWYgKGZuVGltZSAtIGJnVGltZSA+IHRoYXQub3B0aW9ucy5zcGVlZCkge1xyXG4gICAgICAgICAgICAgICAgYmdUaW1lID0gZm5UaW1lO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbGVtTmV4dCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmYWxzZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhhdC5sZWZ0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB0aGF0LnJpZ2h0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhhdC5vcHRpb25zLmRvdHMpIHsgLy8g0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LjQvdC00LjQutCw0YLQvtGA0L3Ri9GFINGC0L7Rh9C10LpcclxuICAgICAgICBsZXQgc3VtID0gJycsXHJcbiAgICAgICAgICAgIGRpZmZOdW07XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGF0LmRvdHNWaXNpYmxlOyBpKyspIHtcclxuICAgICAgICAgICAgc3VtICs9ICc8c3BhbiBjbGFzcz1cImFudC1kb3RcIj48L3NwYW4+J1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhhdC5pbmRpY2F0b3JEb3RzLmlubmVySFRNTCA9IHN1bTtcclxuICAgICAgICB0aGF0LmluZGljYXRvckRvdHNBbGwgPSB0aGF0LmNyc2xSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uYW50LWRvdCcpO1xyXG4gICAgICAgIC8vINCd0LDQt9C90LDRh9Cw0LXQvCDRgtC+0YfQutCw0Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gJ2NsaWNrJ1xyXG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgdGhhdC5kb3RzVmlzaWJsZTsgbisrKSB7XHJcbiAgICAgICAgICAgIHRoYXQuaW5kaWNhdG9yRG90c0FsbFtuXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZGlmZk51bSA9IE1hdGguYWJzKG4gLSB0aGF0LmN1cnJlbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGlmIChuIDwgdGhhdC5jdXJyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJnVGltZSA9IGdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVsZW1QcmV2KGRpZmZOdW0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG4gPiB0aGF0LmN1cnJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmdUaW1lID0gZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZWxlbU5leHQoZGlmZk51bSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vINCV0YHQu9C4IG4gPT0gdGhhdC5jdXJyZW50RWxlbWVudCDQvdC40YfQtdCz0L4g0L3QtSDQtNC10LvQsNC10LxcclxuICAgICAgICAgICAgfSwgZmFsc2UpXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGF0LmRvdE9mZigwKTsgLy8g0YLQvtGH0LrQsFswXSDQstGL0LrQu9GO0YfQtdC90LAsINC+0YHRgtCw0LvRjNC90YvQtSDQstC60LvRjtGH0LXQvdGLXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGF0LmRvdHNWaXNpYmxlOyBpKyspIHtcclxuICAgICAgICAgICAgdGhhdC5kb3RPbihpKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbm5ldyBBbnQoKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG59KSJdfQ==
